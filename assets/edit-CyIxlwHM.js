import{d as k,r as i,ap as U,g as h,w as o,a_ as C,E as r,U as B,n as D,e as t,J as F,Q as I,R as N,S as R,a6 as S,ab as q,l as J,p as f,a$ as M}from"./index-Djz3hU2T.js";/* empty css                     */const j=k({__name:"edit",emits:["refresh"],setup(Q,{expose:_,emit:v}){const n=i(!1),d=i(),a=i({id:0,name:"",weight:0}),c=i({name:[{required:!0,message:"请输入名称"}]}),g=v,w=async l=>{if(console.log("详情",l),n.value=!0,l.id&&l.id!==0){const e=await C("/api/v1/admin/product_type/detail",l.id);e.status&&e.data?a.value={...e.data}:r.error(e.message||"获取数据失败")}else m(),a.value.id=0},V=async()=>{var e;await((e=d.value)==null?void 0:e.validate());const l=await M("/api/v1/admin/product_type/save",a.value);l.status?(r.success(l.message),g("refresh"),n.value=!1):r.error(l.message||"保存失败")},m=()=>{a.value={id:0,name:"",weight:0}};return U(n,l=>{l||m()}),_({open:w}),(l,e)=>{const b=R,u=N,E=S,y=q,p=J,x=B;return D(),h(x,{modelValue:n.value,"onUpdate:modelValue":e[3]||(e[3]=s=>n.value=s),title:"添加/编辑产品类型",width:"40%"},{default:o(()=>[t(F(I),{model:a.value,"label-width":"100px",rules:c.value,ref_key:"formRef",ref:d},{default:o(()=>[t(u,{label:"类型名称",prop:"name"},{default:o(()=>[t(b,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),placeholder:"请输入类型名称"},null,8,["modelValue"])]),_:1}),t(u,{label:"是否启用",prop:"status"},{default:o(()=>[t(E,{modelValue:a.value.status,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.status=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),t(u,{label:"权重",prop:"weight"},{default:o(()=>[t(y,{modelValue:a.value.weight,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.weight=s),min:0},null,8,["modelValue"])]),_:1}),t(u,null,{default:o(()=>[t(p,{type:"primary",onClick:V},{default:o(()=>[...e[4]||(e[4]=[f("提交",-1)])]),_:1}),t(p,{onClick:m},{default:o(()=>[...e[5]||(e[5]=[f("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});export{j as default};
//# sourceMappingURL=edit-CyIxlwHM.js.map
