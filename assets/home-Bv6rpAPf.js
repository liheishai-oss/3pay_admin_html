const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/edit-VLB9yzn7.js","assets/index-BkdMl2fu.js","assets/index-32nqSsNe.css","assets/edit-CdDiZoan.css","assets/alert-CF5VuMnX.css"])))=>i.map(i=>d[i]);
import{d as H,r as w,o as J,a as K,e,b as u,J as a,w as l,a0 as L,F as M,l as Q,a1 as q,A as W,a2 as X,n as Y,au as Z,z as ee,i as te,v as ae,R as le,S as ne,j as oe,H as se,Q as ie,p,a3 as re,K as de,a4 as ue,a5 as pe,B as me,a6 as ce,av as _e}from"./index-BkdMl2fu.js";/* empty css                   *//* empty css               *//* empty css                     *//* empty css                 */import{u as ge}from"./table.plugin-Brlesw2b.js";const fe={class:"table-com-search"},he={class:"table-header ba-scroll-style"},ve={class:"table-search"},be={style:{width:"100%","overflow-x":"auto"},class:"table-content"},Ce={class:"table-footer"},we={class:"table-pagination"},Fe=H({__name:"home",setup(Ee){const E=Z(()=>_e(()=>import("./edit-VLB9yzn7.js"),__vite__mapDeps([0,1,2,3,4]))),_=w(null),h=(i={})=>{console.log(i),_.value?_.value.open({...i}):console.error("EditForm 组件未正确挂载！")},{handleSelectionChange:k,hasSelectedRows:y,isVisible:S,toggleVisibility:V,loadData:z,data:d,refreshData:m,handleSizeChange:x,handleCurrentChange:F,searchParams:v,deleteRows:b,toggleSwitch:R}=ge("/api/v1/admin/agent/list"),s=w({agent_name:"",status:""}),B=async()=>{v.value={...s.value},await m()},D=()=>{s.value={agent_name:"",status:""},v.value={...s.value},m()};J(()=>{z()});const P=(i,t)=>{b(i,[t.id])},T=i=>{b(i)};return(i,t)=>{const U=ne,g=le,C=ae,f=se,$=oe,A=te,o=Q,I=ie,N=q,r=me,j=ce,O=W,G=X;return Y(),K(M,null,[e(a(E),{ref_key:"editFormRef",ref:_,onRefresh:a(m)},null,8,["onRefresh"]),e(L,{name:"fade"},{default:l(()=>[ee(u("div",fe,[e(A,{gutter:20},{default:l(()=>[e(C,{span:6},{default:l(()=>[e(g,{label:"代理商名称"},{default:l(()=>[e(U,{modelValue:s.value.agent_name,"onUpdate:modelValue":t[0]||(t[0]=n=>s.value.agent_name=n),placeholder:"按代理商名称搜索",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(C,{span:6},{default:l(()=>[e(g,{label:"状态"},{default:l(()=>[e($,{modelValue:s.value.status,"onUpdate:modelValue":t[1]||(t[1]=n=>s.value.status=n),placeholder:"选择状态",clearable:""},{default:l(()=>[e(f,{label:"全部",value:""}),e(f,{label:"启用",value:1}),e(f,{label:"禁用",value:0})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(I,{inline:!0,class:"demo-form-inline"},{default:l(()=>[e(g,null,{default:l(()=>[e(o,{type:"primary",onClick:B},{default:l(()=>[...t[5]||(t[5]=[p("搜索",-1)])]),_:1}),e(o,{type:"primary",onClick:D},{default:l(()=>[...t[6]||(t[6]=[p("重置",-1)])]),_:1})]),_:1})]),_:1})],512),[[re,a(S)]])]),_:1}),u("div",he,[e(o,{icon:a(de),onClick:a(m),color:"#40485b"},null,8,["icon","onClick"]),e(o,{type:"primary",icon:a(ue),onClick:h},{default:l(()=>[...t[7]||(t[7]=[p("添加",-1)])]),_:1},8,["icon"]),e(o,{type:"danger",disabled:!a(y),onClick:t[2]||(t[2]=n=>T("/api/v1/admin/agent/delete"))},{default:l(()=>[...t[8]||(t[8]=[p("删除",-1)])]),_:1},8,["disabled"]),u("div",ve,[e(N,{class:"ml-4"},{default:l(()=>[e(o,{icon:a(pe),onClick:a(V)},null,8,["icon","onClick"])]),_:1})])]),u("div",be,[e(O,{data:a(d).data,border:"",stripe:"","max-height":"600",style:{width:"100%"},onSelectionChange:a(k)},{default:l(()=>[e(r,{type:"selection",width:"40"}),e(r,{prop:"agent_name",label:"代理商名称",align:"center","min-width":"150"}),e(r,{prop:"admin.username",label:"登录账号",align:"center","min-width":"150"}),e(r,{label:"状态",align:"center","min-width":"90"},{default:l(({row:n})=>[e(j,{modelValue:n.status,"onUpdate:modelValue":c=>n.status=c,"active-value":1,"inactive-value":0,onChange:c=>a(R)("/api/v1/admin/agent/switch",n.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(r,{prop:"remark",label:"备注",align:"center","min-width":"150","show-overflow-tooltip":""}),e(r,{prop:"created_at",label:"创建时间",align:"center","min-width":"150"}),e(r,{label:"操作",align:"center",fixed:"right","min-width":"200"},{default:l(n=>[e(o,{size:"small",onClick:c=>h(n.row)},{default:l(()=>[...t[9]||(t[9]=[p("编辑",-1)])]),_:1},8,["onClick"]),e(o,{size:"small",type:"danger",onClick:c=>P("/api/v1/admin/agent/delete",n.row)},{default:l(()=>[...t[10]||(t[10]=[p("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"])]),u("div",Ce,[u("div",we,[e(G,{"current-page":a(d).current_page,"onUpdate:currentPage":t[3]||(t[3]=n=>a(d).current_page=n),"page-size":a(d).page_size,"onUpdate:pageSize":t[4]||(t[4]=n=>a(d).page_size=n),"page-sizes":[10,50,100,200],background:!0,"prev-text":"上一页","next-text":"下一页",layout:"total, sizes, prev, pager, next, jumper",total:a(d).page_total,onSizeChange:a(x),onCurrentChange:a(F)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])])],64)}}});export{Fe as default};
//# sourceMappingURL=home-Bv6rpAPf.js.map
