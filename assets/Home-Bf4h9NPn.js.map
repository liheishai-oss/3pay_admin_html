{"version":3,"file":"Home-Bf4h9NPn.js","sources":["../../src/pages/Home.vue"],"sourcesContent":["<template>\n  <div v-if=\"isMerchant\" class=\"merchant-dashboard\">\n    <div class=\"welcome-card__left\">\n      <el-tag v-if=\"userInfo?.merchant_name\" effect=\"dark\" round>\n        {{ userInfo.merchant_name }}\n      </el-tag>\n    </div>\n\n    <el-row :gutter=\"20\" class=\"stat-grid\">\n      <el-col\n        v-for=\"card in statCards\"\n        :key=\"card.label\"\n        :xs=\"24\"\n        :sm=\"12\"\n        :md=\"6\"\n      >\n        <el-card shadow=\"hover\" class=\"stat-card\">\n          <p class=\"stat-card__label\">{{ card.label }}</p>\n          <p class=\"stat-card__value\">\n            {{ card.value }}\n            <span class=\"stat-card__suffix\">{{ card.suffix }}</span>\n          </p>\n          <p class=\"stat-card__desc\">{{ card.desc }}</p>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <el-row :gutter=\"20\" class=\"content-grid\">\n      <el-col :xs=\"24\" :lg=\"12\">\n        <el-card shadow=\"never\" class=\"panel-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>成交质量</span>\n              <el-tag type=\"success\" effect=\"plain\">\n                成功率 {{ successRate }}%\n              </el-tag>\n            </div>\n          </template>\n\n          <div class=\"rate-wrapper\">\n            <el-progress\n              :percentage=\"successRate\"\n              :stroke-width=\"12\"\n              status=\"success\"\n              striped\n              striped-flow\n            />\n            <ul class=\"rate-detail\">\n              <li>\n                <span>成功笔数</span>\n                <b>{{ statistics.paid_count }}</b>\n              </li>\n              <li>\n                <span>失败/关闭</span>\n                <b>{{ statistics.closed_count + statistics.refunded_count }}</b>\n              </li>\n              <li>\n                <span>等待支付</span>\n                <b>{{ statistics.unpaid_count }}</b>\n              </li>\n              <li>\n                <span>一分钟订单</span>\n                <b>{{ statistics.last_minute_count }}</b>\n              </li>\n            </ul>\n          </div>\n        </el-card>\n      </el-col>\n\n      <el-col :xs=\"24\" :lg=\"12\">\n        <el-card shadow=\"never\" class=\"panel-card table-panel\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>最新订单</span>\n              <div class=\"card-actions\">\n                <span class=\"card-tip\">显示最近 5 条</span>\n                <el-link type=\"primary\" @click=\"openOrderCenter\">\n                  前往订单中心\n                </el-link>\n              </div>\n            </div>\n          </template>\n\n          <el-table\n            :data=\"recentOrders\"\n            v-loading=\"ordersLoading\"\n            empty-text=\"暂无订单数据\"\n            size=\"small\"\n            border\n          >\n            <el-table-column\n              prop=\"platform_order_no\"\n              label=\"平台订单号\"\n              min-width=\"150\"\n              show-overflow-tooltip\n            />\n            <el-table-column label=\"金额\" width=\"90\">\n              <template #default=\"{ row }\">\n                ¥{{ formatMoney(row.order_amount) }}\n              </template>\n            </el-table-column>\n            <el-table-column label=\"支付状态\" width=\"110\">\n              <template #default=\"{ row }\">\n                <el-tag\n                  :type=\"getPayStatusType(row.pay_status)\"\n                  effect=\"plain\"\n                  size=\"small\"\n                >\n                  {{ getPayStatusText(row.pay_status) }}\n                </el-tag>\n              </template>\n            </el-table-column>\n            <el-table-column\n              prop=\"created_at\"\n              label=\"创建时间\"\n              min-width=\"140\"\n              show-overflow-tooltip\n            />\n          </el-table>\n\n          <el-empty\n            v-if=\"!recentOrders.length && !ordersLoading\"\n            description=\"当前时间段暂无订单\"\n            :image-size=\"120\"\n          />\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <el-row :gutter=\"20\" class=\"content-grid\">\n      <el-col :xs=\"24\" :lg=\"12\">\n        <el-card shadow=\"never\" class=\"panel-card summary-panel\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>金额分布</span>\n            </div>\n          </template>\n          <ul class=\"summary-list\">\n            <li>\n              <span>总金额</span>\n              <b>¥{{ formatMoney(statistics.total_amount) }}</b>\n            </li>\n            <li>\n              <span>成交金额</span>\n              <b>¥{{ formatMoney(statistics.paid_amount) }}</b>\n            </li>\n            <li>\n              <span>官方手续费</span>\n              <b>¥{{ formatMoney(statistics.official_fee) }}</b>\n            </li>\n          </ul>\n        </el-card>\n      </el-col>\n\n      <el-col :xs=\"24\" :lg=\"12\">\n        <el-card shadow=\"never\" class=\"panel-card summary-panel\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>订单分布</span>\n            </div>\n          </template>\n          <ul class=\"summary-list\">\n            <li>\n              <span>总订单</span>\n              <b>{{ statistics.total_count }} 笔</b>\n            </li>\n            <li>\n              <span>付款成功</span>\n              <b>{{ statistics.paid_count }} 笔</b>\n            </li>\n            <li>\n              <span>关闭/退款</span>\n              <b>{{ statistics.closed_count + statistics.refunded_count }} 笔</b>\n            </li>\n          </ul>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <div class=\"floating-controls\" v-if=\"isMerchant\">\n      <el-select\n        v-model=\"selectedRange\"\n        class=\"range-select\"\n        size=\"large\"\n        placeholder=\"选择统计周期\"\n        @change=\"handleRangeChange\"\n      >\n        <el-option\n          v-for=\"option in rangeOptions\"\n          :key=\"option.value\"\n          :label=\"option.label\"\n          :value=\"option.value\"\n        />\n      </el-select>\n      <el-date-picker\n        v-if=\"selectedRange === 'custom'\"\n        v-model=\"dateRange\"\n        type=\"datetimerange\"\n        range-separator=\"至\"\n        start-placeholder=\"开始时间\"\n        end-placeholder=\"结束时间\"\n        value-format=\"YYYY-MM-DD HH:mm:ss\"\n        format=\"YYYY-MM-DD HH:mm:ss\"\n        class=\"custom-range\"\n        size=\"large\"\n        @change=\"handleCustomRangeChange\"\n      />\n      <el-button\n        type=\"primary\"\n        :loading=\"statsLoading || ordersLoading\"\n        size=\"large\"\n        @click=\"refreshDashboard\"\n      >\n        <el-icon><Refresh /></el-icon>\n        刷新数据\n      </el-button>\n    </div>\n  </div>\n  <div v-else class=\"non-merchant-placeholder\">\n    <el-empty\n      description=\"请选择左侧菜单进入对应功能\"\n      image-size=\"180\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { Refresh } from '@element-plus/icons-vue'\nimport request from '@/utils/request'\nimport useWebTabsStore from '@/store/webtabs'\n\ntype RangeKey = 'today' | 'yesterday' | 'week' | 'month' | 'custom'\n\ninterface Statistics {\n  total_count: number\n  paid_count: number\n  unpaid_count: number\n  closed_count: number\n  refunded_count: number\n  total_amount: number\n  paid_amount: number\n  success_rate: number\n  official_fee: number\n  last_minute_count: number\n}\n\nconst router = useRouter()\nconst tabsStore = useWebTabsStore()\n\nconst statsLoading = ref(false)\nconst ordersLoading = ref(false)\nconst userInfo = ref<Record<string, any> | null>(null)\nconst statistics = ref<Statistics>(createEmptyStatistics())\nconst recentOrders = ref<any[]>([])\n\nconst selectedRange = ref<RangeKey>('today')\nconst dateRange = ref<[string, string]>(getRangeValue('today'))\n\nconst rangeOptions = [\n  { label: '今日', value: 'today' },\n  { label: '昨日', value: 'yesterday' },\n  { label: '近7天', value: 'week' },\n  { label: '近30天', value: 'month' },\n  { label: '自定义', value: 'custom' }\n]\n\nconst isMerchant = computed(() => Number(userInfo.value?.user_group_id) === 4)\n\nconst successRate = computed(() => {\n  const rate = Number(statistics.value.success_rate || 0)\n  if (Number.isNaN(rate)) {\n    return 0\n  }\n  return Math.min(100, Math.max(0, Number(rate.toFixed(2))))\n})\n\nconst statCards = computed(() => [\n  {\n    label: '订单总量',\n    value: statistics.value.total_count,\n    suffix: '笔',\n    desc: '该时间段产生的订单'\n  },\n  {\n    label: '成交金额',\n    value: `¥${formatMoney(statistics.value.paid_amount)}`,\n    suffix: '',\n    desc: '已完成支付的总金额'\n  },\n  {\n    label: '成功订单',\n    value: statistics.value.paid_count,\n    suffix: '笔',\n    desc: '支付成功数量'\n  },\n  {\n    label: '成功率',\n    value: `${successRate.value}`,\n    suffix: '%',\n    desc: '支付成功占比'\n  }\n])\n\nfunction createEmptyStatistics(): Statistics {\n  return {\n    total_count: 0,\n    paid_count: 0,\n    unpaid_count: 0,\n    closed_count: 0,\n    refunded_count: 0,\n    total_amount: 0,\n    paid_amount: 0,\n    success_rate: 0,\n    official_fee: 0,\n    last_minute_count: 0\n  }\n}\n\nfunction pad(num: number): string {\n  return String(num).padStart(2, '0')\n}\n\nfunction formatDate(date: Date, end = false): string {\n  return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())} ${pad(\n    end ? 23 : 0\n  )}:${pad(end ? 59 : 0)}:${pad(end ? 59 : 0)}`\n}\n\nfunction getRangeValue(type: RangeKey): [string, string] {\n  const now = new Date()\n  const start = new Date(now)\n\n  switch (type) {\n    case 'today':\n      return [formatDate(now), formatDate(now, true)]\n    case 'yesterday':\n      start.setDate(start.getDate() - 1)\n      const yesterday = new Date(start)\n      return [formatDate(yesterday), formatDate(yesterday, true)]\n    case 'week':\n      start.setDate(start.getDate() - 6)\n      return [formatDate(start), formatDate(now, true)]\n    case 'month':\n      start.setDate(start.getDate() - 29)\n      return [formatDate(start), formatDate(now, true)]\n    default:\n      return dateRange.value\n  }\n}\n\nfunction buildParams() {\n  const [start_time, end_time] = dateRange.value\n  return {\n    start_time,\n    end_time\n  }\n}\n\nconst handleRangeChange = (value: RangeKey) => {\n  if (!isMerchant.value) return\n  if (value !== 'custom') {\n    dateRange.value = getRangeValue(value)\n    refreshDashboard()\n  }\n}\n\nconst handleCustomRangeChange = (value: [string, string]) => {\n  if (!isMerchant.value) return\n  if (!value || value.length !== 2) return\n  dateRange.value = value\n  refreshDashboard()\n}\n\nconst refreshDashboard = async () => {\n  if (!isMerchant.value) return\n  await Promise.all([fetchStatistics(), fetchRecentOrders()])\n}\n\nconst fetchStatistics = async () => {\n  if (!isMerchant.value) return\n  statsLoading.value = true\n  try {\n    const res = await request({\n      url: '/api/v1/admin/order/statistics',\n      method: 'GET',\n      params: buildParams()\n    })\n    statistics.value = {\n      ...createEmptyStatistics(),\n      ...(res.data || {})\n    }\n  } catch (error: any) {\n    ElMessage.error(error?.message || '获取统计数据失败')\n  } finally {\n    statsLoading.value = false\n  }\n}\n\nconst fetchRecentOrders = async () => {\n  if (!isMerchant.value) return\n  ordersLoading.value = true\n  try {\n    const res = await request({\n      url: '/api/v1/admin/order/list',\n      method: 'GET',\n      params: {\n        page: 1,\n        page_size: 5,\n        search: JSON.stringify(buildParams())\n      }\n    })\n    recentOrders.value = res.data?.data || []\n  } catch (error: any) {\n    ElMessage.error(error?.message || '获取订单列表失败')\n  } finally {\n    ordersLoading.value = false\n  }\n}\n\nconst fetchUserInfo = async () => {\n  try {\n    const res = await request({\n      url: '/api/v1/admin/user/info',\n      method: 'GET'\n    })\n    userInfo.value = res.data || null\n  } catch (error) {\n    // 忽略用户信息失败\n  }\n}\n\nconst openOrderCenter = () => {\n  const path = '/order/home'\n  const title = '订单管理'\n  if (!tabsStore.findTabByPath(path)) {\n    tabsStore.addWebTab({\n      name: path,\n      title,\n      content: '',\n      path\n    })\n  }\n  router.push(path)\n}\n\nfunction formatMoney(amount: number | string): string {\n  const value = Number(amount || 0)\n  return value.toLocaleString('zh-CN', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })\n}\n\nfunction getPayStatusText(status: number) {\n  const map: Record<number, string> = {\n    0: '已创建',\n    1: '已支付',\n    2: '已关闭',\n    3: '已退款',\n    4: '已打开'\n  }\n  return map[status] || '未知'\n}\n\nfunction getPayStatusType(status: number) {\n  const map: Record<number, string> = {\n    0: 'info',\n    1: 'success',\n    2: 'warning',\n    3: 'danger',\n    4: 'warning'\n  }\n  return map[status] || 'info'\n}\n\nonMounted(async () => {\n  await fetchUserInfo()\n  await refreshDashboard()\n})\n</script>\n\n<style scoped>\n.merchant-dashboard {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.dashboard-card {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n}\n\n.welcome-card__left {\n  max-width: 60%;\n}\n\n.welcome-card__right {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.range-select {\n  min-width: 140px;\n}\n\n.custom-range {\n  min-width: 320px;\n}\n\n.stat-grid {\n  margin-top: 10px;\n}\n\n.stat-card {\n  border: none;\n  background: #fff;\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.05);\n}\n\n.stat-card__label {\n  color: #909399;\n  margin: 0;\n}\n\n.stat-card__value {\n  font-size: 28px;\n  font-weight: 600;\n  margin: 6px 0;\n  color: #1f2d3d;\n}\n\n.stat-card__suffix {\n  font-size: 14px;\n  margin-left: 4px;\n  color: #606266;\n}\n\n.stat-card__desc {\n  color: #a0a3a8;\n  margin: 0;\n}\n\n.content-grid .panel-card {\n  height: 100%;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 600;\n  color: #303133;\n}\n\n.card-actions {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 12px;\n  color: #909399;\n}\n\n.rate-wrapper {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.rate-detail {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 12px;\n}\n\n.rate-detail li {\n  display: flex;\n  flex-direction: column;\n  padding: 12px;\n  background: #f7f8fc;\n  border-radius: 10px;\n  color: #606266;\n}\n\n.rate-detail li b {\n  font-size: 18px;\n  color: #1f2d3d;\n  margin-top: 6px;\n}\n\n.table-panel {\n  position: relative;\n}\n\n.table-panel :deep(.el-table) {\n  --el-table-border-color: #f0f2f5;\n  font-size: 13px;\n}\n\n.summary-panel .summary-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n}\n\n.summary-list li {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 0;\n  border-bottom: 1px dashed #ebeef5;\n  color: #606266;\n}\n\n.summary-list li:last-child {\n  border-bottom: none;\n}\n\n.summary-list b {\n  font-size: 18px;\n  color: #1f2d3d;\n}\n\n.floating-controls {\n  position: fixed;\n  right: 30px;\n  bottom: 30px;\n  display: flex;\n  gap: 12px;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.95);\n  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);\n  border-radius: 12px;\n  padding: 12px 16px;\n  z-index: 1000;\n}\n\n.non-merchant-placeholder {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding: 60px 0;\n}\n\n@media (max-width: 992px) {\n  .welcome-card {\n    flex-direction: column;\n    gap: 20px;\n  }\n\n  .welcome-card__left {\n    max-width: 100%;\n  }\n\n  .welcome-card__right {\n    width: 100%;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n  }\n\n  .custom-range {\n    width: 100%;\n  }\n}\n</style>\n"],"names":["router","useRouter","tabsStore","useWebTabsStore","statsLoading","ref","ordersLoading","userInfo","statistics","createEmptyStatistics","recentOrders","selectedRange","dateRange","getRangeValue","rangeOptions","isMerchant","computed","_a","successRate","rate","statCards","formatMoney","pad","num","formatDate","date","end","type","now","start","yesterday","buildParams","start_time","end_time","handleRangeChange","value","refreshDashboard","handleCustomRangeChange","fetchStatistics","fetchRecentOrders","res","request","error","ElMessage","fetchUserInfo","openOrderCenter","path","amount","getPayStatusText","status","getPayStatusType","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createBlock","_component_el_tag","_createTextVNode","_toDisplayString","_createVNode","_component_el_row","_Fragment","_renderList","card","_component_el_col","_component_el_card","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_cache","_hoisted_8","_component_el_progress","_hoisted_9","_hoisted_10","_hoisted_11","_component_el_link","_component_el_table","_component_el_table_column","_withCtx","row","_component_el_empty","_hoisted_12","_hoisted_13","_hoisted_14","_component_el_select","$event","option","_component_el_option","_component_el_date_picker","_component_el_button","_component_el_icon","_unref","Refresh","_hoisted_15"],"mappings":"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"}