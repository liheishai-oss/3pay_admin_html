import{d as N,r as $,o as I,a as j,e,b as p,J as a,w as l,a0 as A,F as G,l as J,a1 as K,A as M,a2 as Q,n as q,z as H,i as L,v as O,R as W,S as X,Q as Y,p as s,a3 as Z,K as ee,a4 as te,a5 as ae,B as le,h as ne,t as oe,a6 as ie}from"./index-BkdMl2fu.js";/* empty css                   *//* empty css               *//* empty css                     *//* empty css                 */import{u as se}from"./table.plugin-Brlesw2b.js";import re from"./edit-tpXkGHk5.js";/* empty css                     *//* empty css                    *//* empty css                    */const de={class:"table-com-search"},pe={class:"table-header ba-scroll-style"},ue={class:"table-search"},me={style:{width:"100%","overflow-x":"auto"},class:"table-content"},ce={class:"table-footer"},_e={class:"table-pagination"},ze=N({__name:"home",setup(ge){const u=$(null),_=(r={})=>{console.log(r),u.value?u.value.open({...r}):console.error("ComplaintForm 组件未正确挂载！")},{handleSelectionChange:b,hasSelectedRows:g,isVisible:C,toggleVisibility:v,loadData:w,data:d,refreshData:m,handleSizeChange:y,handleCurrentChange:k,deleteRows:f,resetSearchParams:E}=se("/api/v1/admin/menu-rule");I(()=>{w()});const S=(r,t)=>{f(r,[t.id])},z=r=>{f(r)};return(r,t)=>{const x=X,h=W,F=O,V=L,o=J,R=Y,B=K,i=le,D=ne,T=ie,P=M,U=Q;return q(),j(G,null,[e(re,{ref_key:"editFormRef",ref:u,onRefresh:a(m)},null,8,["onRefresh"]),e(A,{name:"fade"},{default:l(()=>[H(p("div",de,[e(V,{gutter:20},{default:l(()=>[e(F,{span:6},{default:l(()=>[e(h,{label:"编号"},{default:l(()=>[e(x,{placeholder:"按编号搜索",clearable:""})]),_:1})]),_:1})]),_:1}),e(R,{inline:!0,class:"demo-form-inline"},{default:l(()=>[e(h,null,{default:l(()=>[e(o,{type:"primary",onClick:a(m)},{default:l(()=>[...t[3]||(t[3]=[s("搜索",-1)])]),_:1},8,["onClick"]),e(o,{type:"primary",onClick:a(E)},{default:l(()=>[...t[4]||(t[4]=[s("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})],512),[[Z,a(C)]])]),_:1}),p("div",pe,[e(o,{icon:a(ee),onClick:a(m),color:"#40485b"},null,8,["icon","onClick"]),e(o,{type:"primary",icon:a(te),onClick:_},{default:l(()=>[...t[5]||(t[5]=[s("添加",-1)])]),_:1},8,["icon"]),e(o,{type:"primary",disabled:!a(g)},{default:l(()=>[...t[6]||(t[6]=[s("编辑",-1)])]),_:1},8,["disabled"]),e(o,{type:"danger",disabled:!a(g),onClick:t[0]||(t[0]=n=>z("/api/v1/admin/menu-rule/delete"))},{default:l(()=>[...t[7]||(t[7]=[s("删除",-1)])]),_:1},8,["disabled"]),p("div",ue,[e(B,{class:"ml-4"},{default:l(()=>[e(o,{icon:a(ae),onClick:a(v)},null,8,["icon","onClick"])]),_:1})])]),p("div",me,[e(P,{data:a(d).data,border:"",stripe:"","row-key":"id","table-layout":"fixed",style:{width:"100%"},onSelectionChange:a(b)},{default:l(()=>[e(i,{type:"selection",width:"40"}),e(i,{prop:"title",label:"权限名称",align:"center","min-width":"150"}),e(i,{prop:"is_menu",label:"类型",align:"center","min-width":"150"},{default:l(({row:n})=>[e(D,{type:n.is_menu===1?"success":"info"},{default:l(()=>[s(oe(n.is_menu===1?"菜单":"节点"),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"rule",label:"规则",align:"center","min-width":"150"}),e(i,{prop:"path",label:"前端路径",align:"center","min-width":"200"}),e(i,{prop:"weight",label:"权重",align:"center","min-width":"150"}),e(i,{prop:"remark",label:"备注",align:"center","min-width":"150"}),e(i,{label:"状态",align:"center","min-width":"80"},{default:l(({row:n})=>[e(T,{modelValue:n.status,"onUpdate:modelValue":c=>n.status=c,"active-value":1,"inactive-value":0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{label:"操作",align:"center",fixed:"right","min-width":"300"},{default:l(n=>[e(o,{size:"small",onClick:c=>_(n.row)},{default:l(()=>[...t[8]||(t[8]=[s("编辑",-1)])]),_:1},8,["onClick"]),e(o,{size:"small",type:"danger",onClick:c=>S("/api/v1/admin/menu-rule/delete",n.row)},{default:l(()=>[...t[9]||(t[9]=[s("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"])]),p("div",ce,[p("div",_e,[e(U,{"current-page":a(d).current_page,"onUpdate:currentPage":t[1]||(t[1]=n=>a(d).current_page=n),"page-size":a(d).page_size,"onUpdate:pageSize":t[2]||(t[2]=n=>a(d).page_size=n),"page-sizes":[10,50,100,200],background:!0,"prev-text":"上一页","next-text":"下一页",layout:"total, sizes, prev, pager, next, jumper",total:a(d).page_total,onSizeChange:a(y),onCurrentChange:a(k)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])])],64)}}});export{ze as default};
//# sourceMappingURL=home-1F0OYlMG.js.map
