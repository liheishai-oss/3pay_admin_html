{"version":3,"file":"home-B_XQHVFG.js","sources":["../../src/components/SubjectPaymentTypeBinding.vue","../../src/pages/subject/home.vue"],"sourcesContent":["<template>\n  <div class=\"subject-payment-type-binding\">\n    <el-card class=\"box-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>支付类型支持管理</span>\n          <div class=\"header-info\">\n            <el-tag type=\"info\" size=\"small\">\n              共 {{ paymentTypes.length }} 种支付类型\n            </el-tag>\n          </div>\n        </div>\n      </template>\n\n      <!-- 搜索框 -->\n      <div class=\"search-section\">\n        <el-input\n          v-model=\"searchKeyword\"\n          placeholder=\"搜索支付类型名称\"\n          clearable\n          @input=\"handleSearch\"\n          style=\"width: 300px; margin-bottom: 20px;\"\n        >\n          <template #prefix>\n            <el-icon><Search /></el-icon>\n          </template>\n        </el-input>\n      </div>\n\n      <!-- 支付类型列表 -->\n      <el-table \n        :data=\"filteredPaymentTypes\" \n        v-loading=\"loading\"\n        empty-text=\"暂无支付类型\"\n        row-key=\"id\"\n      >\n        <el-table-column prop=\"product_name\" label=\"支付名称\" min-width=\"200\" />\n        <el-table-column label=\"支持状态\" width=\"100\" align=\"center\">\n          <template #default=\"{ row }\">\n            <el-switch\n              v-model=\"row.is_enabled\"\n              :disabled=\"loading\"\n              @change=\"handleToggle(row)\"\n            />\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, watch, onMounted } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { Search } from '@element-plus/icons-vue'\nimport request from '@/utils/request'\n\nconst props = defineProps({\n  subjectId: {\n    type: [Number, String],\n    required: true\n  }\n})\n\n// 响应式数据\nconst loading = ref(false)\nconst paymentTypes = ref([])\nconst searchKeyword = ref('')\n\n// 计算属性\nconst filteredPaymentTypes = computed(() => {\n  if (!searchKeyword.value) {\n    return paymentTypes.value\n  }\n  \n  const keyword = searchKeyword.value.toLowerCase()\n  return paymentTypes.value.filter(paymentType => \n    paymentType.product_name.toLowerCase().includes(keyword)\n  )\n})\n\n// 加载主体支付类型列表\nconst loadSubjectPaymentTypes = async () => {\n  if (!props.subjectId) {\n    console.log('SubjectPaymentTypeBinding: subjectId为空，跳过加载')\n    return\n  }\n  \n  console.log('SubjectPaymentTypeBinding: 开始加载支付类型列表', { subjectId: props.subjectId })\n  \n  try {\n    loading.value = true\n    const response = await request.get('/api/v1/admin/subject-payment-type/list', {\n      params: {\n        subject_id: props.subjectId\n      }\n    })\n    \n    console.log('SubjectPaymentTypeBinding: API响应', response)\n    \n    if (response.code === 200) {\n      paymentTypes.value = response.data.payment_types || []\n      console.log('SubjectPaymentTypeBinding: 加载成功', { count: paymentTypes.value.length })\n    } else {\n      console.error('SubjectPaymentTypeBinding: API返回错误', response)\n      ElMessage.error(response.message || '加载支付类型列表失败')\n    }\n  } catch (error) {\n    console.error('SubjectPaymentTypeBinding: 请求异常', error)\n    ElMessage.error('加载支付类型列表失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 监听主体ID变化\nwatch(() => props.subjectId, (newId) => {\n  console.log('SubjectPaymentTypeBinding: subjectId变化', { newId, oldId: props.subjectId })\n  if (newId && newId > 0) {\n    loadSubjectPaymentTypes()\n  }\n}, { immediate: true })\n\n// 处理搜索\nconst handleSearch = () => {\n  // 搜索逻辑在计算属性中处理\n}\n\n// 切换支付类型支持状态\nconst handleToggle = async (paymentType) => {\n  console.log('切换支付类型状态', { \n    paymentTypeId: paymentType.id, \n    productName: paymentType.product_name,\n    currentEnabled: paymentType.is_enabled,\n    subjectId: props.subjectId \n  })\n  \n  try {\n    loading.value = true\n    \n    const response = await request.post('/api/v1/admin/subject-payment-type/toggle', {\n      subject_id: props.subjectId,\n      payment_type_id: paymentType.id\n    })\n    \n    console.log('切换API响应', response)\n    \n    if (response.code === 200) {\n      // 重新加载数据以确保界面正确更新\n      console.log('操作成功，重新加载数据')\n      await loadSubjectPaymentTypes()\n      \n      ElMessage.success(response.message || `${response.data.action}成功`)\n    } else {\n      // 重新加载数据以恢复正确状态\n      console.error('API返回错误，重新加载数据', response)\n      await loadSubjectPaymentTypes()\n      ElMessage.error(response.message || '操作失败')\n    }\n  } catch (error) {\n    // 重新加载数据以恢复正确状态\n    console.error('切换支付类型状态失败:', error)\n    await loadSubjectPaymentTypes()\n    ElMessage.error('操作失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 暴露方法给父组件\ndefineExpose({\n  loadSubjectPaymentTypes\n})\n</script>\n\n<style scoped>\n.subject-payment-type-binding {\n  margin-top: 20px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-info {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.search-section {\n  margin-bottom: 20px;\n}\n\n.box-card {\n  margin-bottom: 20px;\n}\n\n</style>\n","<template>\n  <!-- 编辑表单抽屉 -->\n  <EditForm ref=\"editFormRef\" @refresh=\"refreshData\"/>\n  \n  <!-- 支付类型绑定对话框 -->\n  <el-dialog\n    v-model=\"showPaymentTypeDialog\"\n    :title=\"`${currentSubject?.company_name || ''} - 支付类型绑定管理`\"\n    width=\"80%\"\n    :close-on-click-modal=\"false\"\n  >\n    <SubjectPaymentTypeBinding \n      v-if=\"showPaymentTypeDialog && currentSubject && currentSubject.id\"\n      :subject-id=\"currentSubject.id\" \n      ref=\"paymentTypeBindingRef\"\n    />\n  </el-dialog>\n  \n  <!-- 搜索菜单部分的过渡效果 -->\n  <transition name=\"fade\">\n    <div class=\"table-com-search\" v-show=\"showSearch\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"6\" v-if=\"!isAgent\">\n          <el-form-item label=\"代理商\">\n            <el-select v-model=\"searchForm.agent_id\" placeholder=\"选择代理商\" clearable filterable>\n              <el-option\n                v-for=\"agent in agentList\"\n                :key=\"agent.id\"\n                :label=\"agent.agent_name\"\n                :value=\"agent.id\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"企业名称\">\n            <el-input \n              v-model=\"searchForm.company_name\" \n              placeholder=\"按企业名称搜索\" \n              clearable \n            />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"APPID\">\n            <el-input \n              v-model=\"searchForm.alipay_app_id\" \n              placeholder=\"按APPID搜索\" \n              clearable \n            />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item label=\"状态\">\n            <el-select v-model=\"searchForm.status\" placeholder=\"选择状态\" clearable>\n              <el-option label=\"全部\" :value=\"''\" />\n              <el-option label=\"启用\" :value=\"1\" />\n              <el-option label=\"禁用\" :value=\"0\" />\n            </el-select>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n      <!-- 搜索按钮和重置按钮 -->\n      <el-form :inline=\"true\" class=\"demo-form-inline\">\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleSearch\">搜索</el-button>\n          <el-button type=\"primary\" @click=\"handleReset\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </transition>\n\n  <!-- 表头 -->\n  <div class=\"table-header ba-scroll-style\">\n    <!-- 刷新、添加、删除按钮 -->\n    <el-button :icon=\"Refresh\" @click=\"refreshData\" color=\"#40485b\"/>\n    <el-button type=\"primary\" :icon=\"Plus\" @click=\"openEditFrom\">添加</el-button>\n    <el-button type=\"danger\" :disabled=\"!hasSelectedRows\" @click=\"handleBatchDelete('/api/v1/admin/subject/delete')\">删除</el-button>\n\n    <!-- 搜索按钮 -->\n    <div class=\"table-search\">\n      <el-button-group class=\"ml-4\">\n        <el-button :icon=\"Search\" @click=\"toggleSearch\" />\n      </el-button-group>\n    </div>\n  </div>\n\n  <!-- 表格内容 -->\n  <div style=\"width: 100%; overflow-x: auto;\" class=\"table-content\">\n    <el-table\n        :data=\"data.data\"\n        border\n        stripe\n        max-height=\"600\"\n        style=\"width: 100%;\" \n        @selection-change=\"handleSelectionChange\">\n      <!-- 表格列定义 -->\n      <el-table-column type=\"selection\" width=\"40\"/>\n      <el-table-column prop=\"agent.agent_name\" label=\"代理商\" align=\"center\" min-width=\"150\" v-if=\"!isAgent\"/>\n      <el-table-column label=\"支付类型\" align=\"center\" min-width=\"200\">\n        <template #default=\"{ row }\">\n          <div v-if=\"row.payment_types && row.payment_types.length > 0\" class=\"payment-types-tags\">\n            <el-tag \n              v-for=\"paymentType in row.payment_types\" \n              :key=\"paymentType.id\"\n              :type=\"getPaymentTypeTagType(paymentType.product_name)\"\n              size=\"small\"\n              class=\"payment-type-tag\"\n            >\n              {{ paymentType.product_name }}\n            </el-tag>\n          </div>\n          <span v-else style=\"color: #909399;\">未设置</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"company_name\" label=\"企业名称\" align=\"center\" min-width=\"200\"/>\n      <el-table-column label=\"分账方式\" align=\"center\" min-width=\"120\">\n        <template #default=\"{ row }\">\n          <el-tag v-if=\"row.royalty_type === 'none'\" type=\"info\">不分账</el-tag>\n          <el-tag v-else-if=\"row.royalty_type === 'single'\" type=\"success\">单笔</el-tag>\n          <el-tag v-else-if=\"row.royalty_type === 'merchant'\" type=\"warning\">商家</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"分账模式\" align=\"center\" min-width=\"120\">\n        <template #default=\"{ row }\">\n          <span v-if=\"row.royalty_type === 'none'\" style=\"color: #909399;\">-</span>\n          <el-tag v-else-if=\"row.royalty_mode === 'normal'\" size=\"small\">普通</el-tag>\n          <el-tag v-else-if=\"row.royalty_mode === 'master_sub'\" type=\"success\" size=\"small\">主子</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"alipay_app_id\" label=\"支付宝APPID\" align=\"center\" min-width=\"180\"/>\n      <el-table-column prop=\"alipay_pid\" label=\"合作伙伴ID\" align=\"center\" min-width=\"150\"/>\n\n      <!-- 状态列 -->\n      <el-table-column label=\"状态\" align=\"center\" min-width=\"90\">\n        <template #default=\"{ row }\">\n          <el-switch \n            v-model=\"row.status\" \n            :active-value=\"1\" \n            :inactive-value=\"0\" \n            @change=\"toggleSwitch('/api/v1/admin/subject/switch', row.id)\"\n          />\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"created_at\" label=\"创建时间\" align=\"center\" min-width=\"150\"/>\n\n      <!-- 操作列 -->\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" min-width=\"280\">\n        <template #default=\"scope\">\n          <el-button size=\"small\" @click=\"openEditFrom(scope.row)\">编辑</el-button>\n          <el-button size=\"small\" type=\"primary\" @click=\"openPaymentTypeBinding(scope.row)\">绑定支付类型</el-button>\n          <el-button size=\"small\" type=\"danger\" @click=\"handleDelete('/api/v1/admin/subject/delete', scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n  </div>\n\n  <!-- 表格分页 -->\n  <div class=\"table-footer\">\n    <div class=\"table-pagination\">\n      <el-pagination\n          v-model:current-page=\"data.current_page\"\n          v-model:page-size=\"data.page_size\"\n          :page-sizes=\"[10, 50, 100, 200]\"\n          :background=\"true\"\n          prev-text=\"上一页\"\n          next-text=\"下一页\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"data.page_total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Plus, Refresh, Search } from '@element-plus/icons-vue';\nimport { ref, onMounted, nextTick, computed } from 'vue';\nimport request from '@/utils/request';\n\n// 引入自定义插件和 API\nimport { useTableDataPlugin } from \"@/utils/plugins/table.plugin.ts\";\n\n// 导入编辑\nimport EditForm from './edit.vue';\n// 导入支付类型绑定组件\nimport SubjectPaymentTypeBinding from '@/components/SubjectPaymentTypeBinding.vue';\n// 导入编辑页面\nconst editFormRef = ref(null);\n// 支付类型绑定相关\nconst showPaymentTypeDialog = ref(false);\nconst currentSubject = ref(null);\nconst paymentTypeBindingRef = ref(null);\nconst openEditFrom = (row = {}) => {\n  console.log(row);\n  // 使用 nextTick 确保组件已挂载\n  nextTick(() => {\n    if (editFormRef.value && editFormRef.value.open) {\n      editFormRef.value.open({ ...row }); // 传递 `row` 作为参数\n    } else {\n      console.error(\"EditForm 组件未正确挂载！\", editFormRef.value);\n      // 延迟重试\n      setTimeout(() => {\n        if (editFormRef.value && editFormRef.value.open) {\n          editFormRef.value.open({ ...row });\n        } else {\n          console.error(\"EditForm 组件重试后仍然未正确挂载！\");\n        }\n      }, 100);\n    }\n  });\n};\n\n// 打开支付类型绑定对话框\nconst openPaymentTypeBinding = (row) => {\n  console.log('打开支付类型绑定对话框', { row, subjectId: row?.id });\n  currentSubject.value = row;\n  showPaymentTypeDialog.value = true;\n};\n\n// 使用表格插件来管理表格的状态、数据等\nconst {\n  handleSelectionChange,\n  hasSelectedRows,\n  isVisible: showSearch,\n  toggleVisibility: toggleSearch,\n  loadData,\n  data,\n  refreshData,\n  handleSizeChange,\n  handleCurrentChange,\n  searchParams,\n  deleteRows,\n  toggleSwitch,\n  resetSearchParams\n} = useTableDataPlugin(\"/api/v1/admin/subject/list\");\n\n// 搜索表单数据\nconst searchForm = ref({\n  agent_id: '',\n  company_name: '',\n  alipay_app_id: '',\n  status: ''\n});\n\n// 代理商列表\nconst agentList = ref([]);\n\n// 获取用户信息判断是否是代理商\nconst userInfo = ref<any>({});\nconst isAgent = computed(() => {\n  // 使用后端返回的 is_agent 字段，更安全\n  return userInfo.value?.is_agent === true;\n});\n\n// 获取用户信息\nconst getUserInfo = async () => {\n  try {\n    const res = await request({\n      url: '/api/v1/admin/user/info',\n      method: 'GET'\n    });\n    if (res.status) {\n      userInfo.value = res.data;\n    }\n  } catch (error) {\n    console.error('获取用户信息失败:', error);\n  }\n};\n\n// 获取代理商列表（仅管理员需要）\nconst getAgentList = async () => {\n  if (isAgent.value) return;\n  \n  try {\n    const res = await request({\n      url: '/api/v1/admin/subject/agent-list',\n      method: 'GET'\n    });\n    if (res.status) {\n      agentList.value = res.data;\n    }\n  } catch (error) {\n    console.error('获取代理商列表失败:', error);\n  }\n};\n\n// 处理搜索\nconst handleSearch = async () => {\n  // 将搜索表单数据同步到searchParams\n  searchParams.value = { ...searchForm.value };\n  await refreshData();\n};\n\n// 处理重置\nconst handleReset = () => {\n  searchForm.value = {\n    agent_id: '',\n    company_name: '',\n    alipay_app_id: '',\n    status: ''\n  };\n  searchParams.value = { ...searchForm.value };\n  refreshData();\n};\n\n// 在组件挂载时加载数据\nonMounted(async () => {\n  await getUserInfo();\n  await getAgentList();\n  loadData();\n});\n\n// 删除方法：单条删除\nconst handleDelete = (api: string, row: any) => {\n  deleteRows(api, [row.id]);  // 传递一个 id 数组来删除单条记录\n};\n\n// 批量删除\nconst handleBatchDelete = (api: string) => {\n  deleteRows(api);\n};\n\n// 获取支付类型标签类型\nconst getPaymentTypeTagType = (paymentTypeName: string) => {\n  const typeMap: { [key: string]: string } = {\n    '支付宝': 'success',\n    '微信支付': 'primary',\n    '银联支付': 'warning',\n    'QQ钱包': 'info',\n    '京东支付': 'danger'\n  };\n  \n  // 根据支付类型名称返回对应的标签类型\n  for (const [key, value] of Object.entries(typeMap)) {\n    if (paymentTypeName.includes(key)) {\n      return value;\n    }\n  }\n  \n  // 默认返回info类型\n  return 'info';\n};\n\n</script>\n\n<style scoped>\n.payment-types-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n  justify-content: center;\n  align-items: center;\n}\n\n.payment-type-tag {\n  margin: 2px;\n}\n</style>\n\n"],"names":["props","__props","loading","ref","paymentTypes","searchKeyword","filteredPaymentTypes","computed","keyword","paymentType","loadSubjectPaymentTypes","response","request","ElMessage","error","watch","newId","handleSearch","handleToggle","__expose","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","_createElementVNode","_hoisted_2","_cache","_hoisted_3","_component_el_tag","_createTextVNode","_toDisplayString","_hoisted_4","_component_el_input","$event","_component_el_icon","_unref","Search","_createBlock","_component_el_table","_component_el_table_column","_withCtx","row","_component_el_switch","editFormRef","showPaymentTypeDialog","currentSubject","paymentTypeBindingRef","openEditFrom","nextTick","openPaymentTypeBinding","handleSelectionChange","hasSelectedRows","showSearch","toggleSearch","loadData","data","refreshData","handleSizeChange","handleCurrentChange","searchParams","deleteRows","toggleSwitch","useTableDataPlugin","searchForm","agentList","userInfo","isAgent","_a","getUserInfo","res","getAgentList","handleReset","onMounted","handleDelete","api","handleBatchDelete","getPaymentTypeTagType","paymentTypeName","typeMap","key","value","EditForm","_component_el_dialog","SubjectPaymentTypeBinding","_Transition","_withDirectives","_component_el_row","_component_el_col","_component_el_form_item","_component_el_select","_Fragment","_renderList","agent","_component_el_option","_component_el_form","_component_el_button","Refresh","Plus","_component_el_button_group","_hoisted_5","_hoisted_6","_hoisted_7","scope","_hoisted_8","_hoisted_9","_component_el_pagination"],"mappings":"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"}