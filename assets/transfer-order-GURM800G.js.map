{"version":3,"file":"transfer-order-GURM800G.js","sources":["../../src/pages/single-royalty/transfer-order.vue"],"sourcesContent":["<template>\n  <!-- 搜索菜单部分的过渡效果 -->\n  <transition name=\"fade\">\n    <div class=\"table-com-search\" v-show=\"showSearch\">\n      <el-card class=\"search-card\" shadow=\"never\">\n        <el-form :model=\"searchForm\" label-width=\"100px\" class=\"search-form\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"6\">\n              <el-form-item label=\"转出主体\">\n                <el-select \n                  v-model=\"searchForm.subject_id\" \n                  placeholder=\"请选择主体\" \n                  clearable\n                  filterable\n                  style=\"width: 100%\"\n                >\n                  <el-option \n                    v-for=\"subject in subjectList\" \n                    :key=\"subject.id\" \n                    :label=\"subject.company_name\" \n                    :value=\"subject.id\" \n                  />\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"6\">\n              <el-form-item label=\"收款人姓名\">\n                <el-input \n                  v-model=\"searchForm.payee_name\" \n                  placeholder=\"请输入收款人姓名\"\n                  clearable \n                  prefix-icon=\"Search\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"6\">\n              <el-form-item label=\"收款人账号\">\n                <el-input \n                  v-model=\"searchForm.payee_account\" \n                  placeholder=\"请输入收款人账号\" \n                  clearable \n                  prefix-icon=\"Search\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"6\">\n              <el-form-item label=\"转账时间\">\n                <el-date-picker\n                  v-model=\"dateRange\"\n                  type=\"datetimerange\"\n                  range-separator=\"至\"\n                  start-placeholder=\"开始时间\"\n                  end-placeholder=\"结束时间\"\n                  format=\"YYYY-MM-DD HH:mm:ss\"\n                  value-format=\"YYYY-MM-DD HH:mm:ss\"\n                  style=\"width: 100%\"\n                  @change=\"handleDateRangeChange\"\n                  clearable\n                />\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row :gutter=\"20\">\n            <el-col :span=\"6\">\n              <el-form-item>\n                <div class=\"search-buttons\">\n                  <el-button type=\"primary\" @click=\"handleSearch\">\n                    <el-icon><Search /></el-icon>搜索\n                  </el-button>\n                  <el-button @click=\"handleReset\">\n                    <el-icon><Refresh /></el-icon>重置\n                  </el-button>\n                </div>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n      </el-card>\n    </div>\n  </transition>\n\n  <!-- 表头/按钮行 -->\n  <div class=\"table-header ba-scroll-style\">\n    <el-button :icon=\"Refresh\" @click=\"refreshData\" color=\"#40485b\"/>\n    <el-button type=\"primary\" :icon=\"Money\" @click=\"openTransferDialog\">转账</el-button>\n    <!-- 转账订单统计条 - 精简版横向展示 -->\n    <div class=\"table-statistics-bar\">\n      <span class=\"stat stat-amt\">总金额: <b class=\"stat-num\">¥{{ statistics.total_amount ? statistics.total_amount : 0 }}</b></span>\n      <span class=\"split\">|</span>\n      <span class=\"stat\">总订单: <b class=\"stat-num\">{{ statistics.total_count || 0 }}</b></span>\n      <span class=\"split\">|</span>\n      <span class=\"stat stat-succ\">已转账: <b class=\"stat-num\">¥{{ statistics.transferred_amount ? statistics.transferred_amount : 0 }}</b></span>\n    </div>\n    <!-- 搜索按钮 -->\n    <div class=\"table-search\">\n      <el-button-group class=\"ml-4\">\n        <el-button :icon=\"Search\" @click=\"toggleSearch\" />\n      </el-button-group>\n    </div>\n  </div>\n\n  <!-- 转账确认对话框 -->\n  <el-dialog\n    v-model=\"confirmDialogVisible\"\n    title=\"确认转账信息\"\n    width=\"500px\"\n    :close-on-click-modal=\"false\"\n  >\n    <div class=\"confirm-content\">\n      <el-descriptions :column=\"1\" border>\n        <el-descriptions-item label=\"转出主体\">\n          {{ getSubjectName(transferForm.subject_id) }}\n        </el-descriptions-item>\n        <el-descriptions-item label=\"收款人姓名\">\n          {{ transferForm.payee_name }}\n        </el-descriptions-item>\n        <el-descriptions-item label=\"收款人账号\">\n          {{ transferForm.payee_account }}\n        </el-descriptions-item>\n        <el-descriptions-item label=\"转账金额\">\n          <span style=\"color: #f56c6c; font-size: 18px; font-weight: bold;\">\n            ¥{{ transferForm.amount || '0.00' }}\n          </span>\n        </el-descriptions-item>\n        <el-descriptions-item label=\"备注\" v-if=\"transferForm.remark\">\n          {{ transferForm.remark }}\n        </el-descriptions-item>\n      </el-descriptions>\n      <div class=\"confirm-tip\">\n        <el-alert\n          title=\"请确认转账信息无误后再提交\"\n          type=\"warning\"\n          :closable=\"false\"\n          show-icon\n        />\n      </div>\n    </div>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"confirmDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmAndSubmit\" :loading=\"transferSubmitLoading\">\n          确认转账\n        </el-button>\n      </span>\n    </template>\n  </el-dialog>\n\n  <!-- 转账对话框 -->\n  <el-dialog\n    v-model=\"transferDialogVisible\"\n    title=\"转账\"\n    width=\"600px\"\n    :close-on-click-modal=\"false\"\n  >\n    <el-form\n      ref=\"transferFormRef\"\n      :model=\"transferForm\"\n      :rules=\"transferFormRules\"\n      label-width=\"120px\"\n    >\n      <el-form-item label=\"转出主体\" prop=\"subject_id\">\n        <el-select \n          v-model=\"transferForm.subject_id\" \n          placeholder=\"请选择转出主体\" \n          clearable\n          filterable\n          style=\"width: 100%\"\n        >\n          <el-option\n            v-for=\"subject in agentSubjectList\"\n            :key=\"subject.id\"\n            :label=\"subject.company_name\"\n            :value=\"subject.id\"\n          />\n        </el-select>\n      </el-form-item>\n\n      <el-form-item label=\"收款人姓名\" prop=\"payee_name\">\n        <el-input \n          v-model=\"transferForm.payee_name\" \n          placeholder=\"请输入收款人姓名\" \n          clearable\n        />\n      </el-form-item>\n\n      <el-form-item label=\"收款人账号\" prop=\"payee_account\">\n        <el-input \n          v-model=\"transferForm.payee_account\" \n          placeholder=\"请输入收款人账号\" \n          clearable\n        />\n      </el-form-item>\n\n      <el-form-item label=\"转账金额\" prop=\"amount\">\n        <el-input \n          v-model=\"transferForm.amount\" \n          placeholder=\"请输入转账金额\" \n          clearable\n          type=\"number\"\n          :min=\"0\"\n          :precision=\"2\"\n        >\n          <template #prefix>¥</template>\n        </el-input>\n      </el-form-item>\n\n      <el-form-item label=\"备注\" prop=\"remark\">\n        <el-input \n          v-model=\"transferForm.remark\" \n          type=\"textarea\"\n          :rows=\"3\"\n          placeholder=\"请输入备注信息（选填）\" \n          clearable\n        />\n      </el-form-item>\n    </el-form>\n\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"transferDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"showConfirmDialog\">\n          下一步\n        </el-button>\n      </span>\n    </template>\n  </el-dialog>\n\n  <!-- 表格内容 -->\n  <div style=\"width: 100%; overflow-x: auto;\" class=\"table-content\">\n    <el-table\n        :data=\"data.data\"\n        border\n        stripe\n        max-height=\"600\"\n        style=\"width: 100%;\"\n    >\n      <!-- 表格列定义 -->\n      <el-table-column prop=\"transfer_no\" label=\"转账单号\" align=\"center\" min-width=\"200\"/>\n      <el-table-column prop=\"subject_name\" label=\"转出主体\" align=\"center\" min-width=\"200\"/>\n      <el-table-column prop=\"payee_name\" label=\"收款人姓名\" align=\"center\" min-width=\"150\"/>\n      <el-table-column prop=\"payee_account\" label=\"收款人账号\" align=\"center\" min-width=\"180\"/>\n      <el-table-column prop=\"amount\" label=\"金额\" align=\"center\" min-width=\"120\">\n        <template #default=\"{ row }\">\n          ¥{{ row.amount || '0.00' }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"transfer_time\" label=\"转账时间\" align=\"center\" min-width=\"180\"/>\n      <el-table-column prop=\"remark\" label=\"备注信息\" align=\"center\" min-width=\"200\" show-overflow-tooltip/>\n      <el-table-column label=\"创建时间\" align=\"center\" min-width=\"180\">\n        <template #default=\"{ row }\">\n          <span v-if=\"!row.transfer_time\">{{ row.created_at || '-' }}</span>\n          <span v-else>-</span>\n        </template>\n      </el-table-column>\n    </el-table>\n\n  </div>\n\n  <!-- 表格分页 -->\n  <div class=\"table-footer\">\n    <div class=\"table-pagination\">\n      <el-pagination\n          v-model:current-page=\"data.current_page\"\n          v-model:page-size=\"data.page_size\"\n          :page-sizes=\"[10, 50, 100, 200]\"\n          :background=\"true\"\n          prev-text=\"上一页\"\n          next-text=\"下一页\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"data.page_total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Refresh, Search, Money } from '@element-plus/icons-vue';\nimport { ref, onMounted, computed } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport request from '@/utils/request';\n\n// 引入自定义插件和 API\nimport { useTableDataPlugin } from \"@/utils/plugins/table.plugin.ts\";\n\n// 使用表格插件来管理表格的状态、数据等\nconst {\n  loadData,\n  data,\n  refreshData,\n  handleSizeChange,\n  handleCurrentChange,\n  searchParams,\n  isVisible: showSearch,\n  toggleVisibility: toggleSearch\n} = useTableDataPlugin(\"/api/v1/admin/single-royalty/transfer-order-list\");\n\n// 日期范围\nconst dateRange = ref([]);\n\n// 搜索表单数据\nconst searchForm = ref({\n  subject_id: '',\n  payee_name: '',\n  payee_account: '',\n  start_time: '',\n  end_time: ''\n});\n\n// 处理日期范围变化\nconst handleDateRangeChange = (value: any) => {\n  if (value && value.length === 2) {\n    searchForm.value.start_time = value[0];\n    searchForm.value.end_time = value[1];\n  } else {\n    searchForm.value.start_time = '';\n    searchForm.value.end_time = '';\n  }\n};\n\n// 主体列表（用于搜索）\nconst subjectList = ref([]);\n// 代理商主体列表（用于转账）\nconst agentSubjectList = ref([]);\n// 用户信息\nconst userInfo = ref<any>({});\nconst isAgent = computed(() => userInfo.value?.is_agent === true);\n\n// 转账订单统计\nconst statistics = ref({\n  total_count: 0,\n  total_amount: 0,\n  transferred_amount: 0,\n  pending_amount: 0\n});\n\n// 转账对话框\nconst transferDialogVisible = ref(false);\nconst confirmDialogVisible = ref(false);\nconst transferSubmitLoading = ref(false);\nconst transferFormRef = ref(null);\nconst transferForm = ref({\n  subject_id: '',\n  payee_name: '',\n  payee_account: '',\n  amount: '',\n  remark: ''\n});\n\n// 转账表单验证规则\nconst transferFormRules = {\n  subject_id: [\n    { required: true, message: '请选择转出主体', trigger: 'change' }\n  ],\n  payee_name: [\n    { required: true, message: '请输入收款人姓名', trigger: 'blur' }\n  ],\n  payee_account: [\n    { required: true, message: '请输入收款人账号', trigger: 'blur' }\n  ],\n  amount: [\n    { required: true, message: '请输入转账金额', trigger: 'blur' },\n    { \n      validator: (rule: any, value: any, callback: any) => {\n        if (value && (isNaN(value) || parseFloat(value) <= 0)) {\n          callback(new Error('转账金额必须大于0'));\n        } else {\n          callback();\n        }\n      }, \n      trigger: 'blur' \n    }\n  ]\n};\n\n// 获取用户信息\nconst getUserInfo = async () => {\n  try {\n    const res = await request({\n      url: '/api/v1/admin/user/info',\n      method: 'GET'\n    });\n    if (res.status) {\n      userInfo.value = res.data;\n    }\n  } catch (error) {\n    console.error('获取用户信息失败:', error);\n  }\n};\n\n// 获取主体列表（用于搜索）\nconst getSubjectList = async () => {\n  try {\n    const res = await request({\n      url: '/api/v1/admin/subject/list',\n      method: 'GET',\n      params: {\n        page_size: 1000\n      }\n    });\n    if (res.status && res.data.data) {\n      subjectList.value = res.data.data;\n    }\n  } catch (error) {\n    console.error('获取主体列表失败:', error);\n  }\n};\n\n// 获取代理商的主体列表（用于转账）\nconst getAgentSubjectList = async () => {\n  try {\n    const res = await request({\n      url: '/api/v1/admin/subject/list',\n      method: 'GET',\n      params: {\n        page_size: 1000,\n        status: 1 // 只获取启用的主体\n      }\n    });\n    if (res.status && res.data.data) {\n      // 如果是代理商，只显示自己的主体\n      if (isAgent.value) {\n        agentSubjectList.value = res.data.data.filter((subject: any) => \n          subject.agent_id === userInfo.value.agent_id\n        );\n      } else {\n        agentSubjectList.value = res.data.data;\n      }\n    }\n  } catch (error) {\n    console.error('获取代理商主体列表失败:', error);\n  }\n};\n\n// 获取转账订单统计\nconst getStatistics = async () => {\n  try {\n    const res = await request({\n      url: '/api/v1/admin/single-royalty/transfer-order-statistics',\n      method: 'GET',\n      params: searchParams.value\n    });\n    if (res.status) {\n      statistics.value = res.data;\n    }\n  } catch (error) {\n    console.error('获取统计失败:', error);\n  }\n};\n\n// 打开转账对话框\nconst openTransferDialog = async () => {\n  await getUserInfo();\n  await getAgentSubjectList();\n  \n  // 重置表单\n  transferForm.value = {\n    subject_id: '',\n    payee_name: '',\n    payee_account: '',\n    amount: '',\n    remark: ''\n  };\n  \n  transferDialogVisible.value = true;\n  \n  // 清除验证\n  setTimeout(() => {\n    transferFormRef.value?.clearValidate();\n  }, 100);\n};\n\n// 获取主体名称\nconst getSubjectName = (subjectId: any) => {\n  if (!subjectId) return '-';\n  const subject = agentSubjectList.value.find((s: any) => s.id === subjectId);\n  return subject?.company_name || '-';\n};\n\n// 显示确认对话框\nconst showConfirmDialog = async () => {\n  try {\n    // 先验证表单\n    await transferFormRef.value.validate();\n    \n    // 关闭转账表单对话框\n    transferDialogVisible.value = false;\n    \n    // 显示确认对话框\n    confirmDialogVisible.value = true;\n  } catch (error) {\n    console.error('表单验证失败:', error);\n    if (error !== false) {\n      ElMessage.error('请填写完整的转账信息');\n    }\n  }\n};\n\n// 确认并提交转账\nconst confirmAndSubmit = async () => {\n  try {\n    transferSubmitLoading.value = true;\n    \n    const res = await request({\n      url: '/api/v1/admin/single-royalty/transfer',\n      method: 'POST',\n      data: {\n        subject_id: transferForm.value.subject_id,\n        payee_name: transferForm.value.payee_name,\n        payee_account: transferForm.value.payee_account,\n        amount: parseFloat(transferForm.value.amount),\n        remark: transferForm.value.remark || ''\n      }\n    });\n    \n    if (res.status) {\n      ElMessage.success(res.msg || '转账成功');\n      confirmDialogVisible.value = false;\n      // 重置表单\n      transferForm.value = {\n        subject_id: '',\n        payee_name: '',\n        payee_account: '',\n        amount: '',\n        remark: ''\n      };\n      refreshData();\n      await getStatistics();\n    } else {\n      ElMessage.error(res.msg || '转账失败');\n    }\n  } catch (error) {\n    console.error('转账失败:', error);\n    if (error !== false) {\n      ElMessage.error('转账失败');\n    }\n  } finally {\n    transferSubmitLoading.value = false;\n  }\n};\n\n// 处理搜索\nconst handleSearch = async () => {\n  // 将搜索表单数据同步到searchParams\n  searchParams.value = { ...searchForm.value };\n  await refreshData();\n  await getStatistics();\n};\n\n// 处理重置\nconst handleReset = () => {\n  dateRange.value = [];\n  searchForm.value = {\n    subject_id: '',\n    payee_name: '',\n    payee_account: '',\n    start_time: '',\n    end_time: ''\n  };\n  searchParams.value = { ...searchForm.value };\n  refreshData();\n  getStatistics();\n};\n\n// 在组件挂载时加载数据\nonMounted(async () => {\n  await getUserInfo();\n  await getSubjectList();\n  \n  // 设置初始搜索参数\n  searchParams.value = { ...searchForm.value };\n  \n  loadData();\n  await getStatistics();\n});\n</script>\n\n<style scoped>\n.search-card {\n  margin-bottom: 20px;\n}\n\n.search-form {\n  padding: 10px 0;\n}\n\n.search-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.confirm-content {\n  padding: 10px 0;\n}\n\n.confirm-tip {\n  margin-top: 20px;\n}\n\n.stat { color: #606266; }\n.stat-amt { color: #f6ad55; }\n.stat-succ { color: #67c23a; }\n.stat-rate { color: #409EFF; }\n.table-statistics-bar {\n  display: flex;\n  align-items: center;\n  gap: 18px;\n  margin-left: 16px;\n  font-size: 14px;\n  line-height: 1.7;\n}\n.stat-num {\n  font-weight: bold;\n  margin-left: 3px;\n}\n.split {\n  color: #ccc;\n  margin: 0 8px;\n}\n</style>\n\n\n"],"names":["loadData","data","refreshData","handleSizeChange","handleCurrentChange","searchParams","showSearch","toggleSearch","useTableDataPlugin","dateRange","ref","searchForm","handleDateRangeChange","value","subjectList","agentSubjectList","userInfo","isAgent","computed","_a","statistics","transferDialogVisible","confirmDialogVisible","transferSubmitLoading","transferFormRef","transferForm","transferFormRules","rule","callback","getUserInfo","res","request","error","getSubjectList","getAgentSubjectList","subject","getStatistics","openTransferDialog","getSubjectName","subjectId","s","showConfirmDialog","ElMessage","confirmAndSubmit","handleSearch","handleReset","onMounted","_createVNode","_Transition","_withDirectives","_createElementVNode","_hoisted_1","_component_el_card","_component_el_form","_component_el_row","_component_el_col","_component_el_form_item","_component_el_select","_cache","$event","_createElementBlock","_Fragment","_renderList","_createBlock","_component_el_option","_component_el_input","_component_el_date_picker","_hoisted_2","_component_el_button","_component_el_icon","_unref","Search","Refresh","_hoisted_3","Money","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_el_button_group","_component_el_dialog","_hoisted_15","_hoisted_12","_component_el_descriptions","_component_el_descriptions_item","_createTextVNode","_hoisted_13","_hoisted_14","_component_el_alert","_hoisted_16","_hoisted_17","_component_el_table","_component_el_table_column","_withCtx","row","_openBlock","_hoisted_18","_hoisted_20","_hoisted_21","_component_el_pagination"],"mappings":"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"}